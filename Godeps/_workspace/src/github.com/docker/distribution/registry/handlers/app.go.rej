--- registry/handlers/app.go	2015-05-07 01:37:30.000000000 +0200
+++ home/miminar/wsp/rh/openshift-origin/Godeps/_workspace/src/github.com/docker/distribution/registry/handlers/app.go	2015-10-06 15:06:40.264175818 +0200
@@ -343,11 +367,11 @@
 
 // dispatcher returns a handler that constructs a request specific context and
 // handler, using the dispatch factory function.
-func (app *App) dispatcher(dispatch dispatchFunc) http.Handler {
+func (app *App) dispatcher(dispatch dispatchFunc, nameRequired nameRequiredFunc, accessRecords customAccessRecordsFunc) http.Handler {
 	return http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
 		context := app.context(w, r)
 
-		if err := app.authorized(w, r, context); err != nil {
+		if err := app.authorized(w, r, context, nameRequired, accessRecords(r)); err != nil {
 			ctxu.GetLogger(context).Errorf("error authorizing context: %v", err)
 			return
 		}
