--- registry/storage/manifeststore.go	2015-05-07 01:37:30.000000000 +0200
+++ home/miminar/wsp/rh/openshift-origin/Godeps/_workspace/src/github.com/docker/distribution/registry/storage/manifeststore.go	2015-10-06 15:06:40.266175805 +0200
@@ -20,17 +21,17 @@
 
 var _ distribution.ManifestService = &manifestStore{}
 
-func (ms *manifestStore) Exists(dgst digest.Digest) (bool, error) {
+func (ms *manifestStore) Exists(ctx context.Context, dgst digest.Digest) (bool, error) {
 	ctxu.GetLogger(ms.repository.ctx).Debug("(*manifestStore).Exists")
 	return ms.revisionStore.exists(dgst)
 }
 
-func (ms *manifestStore) Get(dgst digest.Digest) (*manifest.SignedManifest, error) {
+func (ms *manifestStore) Get(ctx context.Context, dgst digest.Digest) (*manifest.SignedManifest, error) {
 	ctxu.GetLogger(ms.repository.ctx).Debug("(*manifestStore).Get")
 	return ms.revisionStore.get(dgst)
 }
 
-func (ms *manifestStore) Put(manifest *manifest.SignedManifest) error {
+func (ms *manifestStore) Put(ctx context.Context, manifest *manifest.SignedManifest) error {
 	ctxu.GetLogger(ms.repository.ctx).Debug("(*manifestStore).Put")
 
 	// TODO(stevvooe): Add check here to see if the revision is already
@@ -54,22 +55,22 @@
 }
 
 // Delete removes the revision of the specified manfiest.
-func (ms *manifestStore) Delete(dgst digest.Digest) error {
-	ctxu.GetLogger(ms.repository.ctx).Debug("(*manifestStore).Delete - unsupported")
-	return fmt.Errorf("deletion of manifests not supported")
+func (ms *manifestStore) Delete(ctx context.Context, dgst digest.Digest) error {
+	ctxu.GetLogger(ms.repository.ctx).Debug("(*manifestStore).Delete")
+	return ms.revisionStore.delete(dgst)
 }
 
-func (ms *manifestStore) Tags() ([]string, error) {
+func (ms *manifestStore) Tags(ctx context.Context) ([]string, error) {
 	ctxu.GetLogger(ms.repository.ctx).Debug("(*manifestStore).Tags")
 	return ms.tagStore.tags()
 }
 
-func (ms *manifestStore) ExistsByTag(tag string) (bool, error) {
+func (ms *manifestStore) ExistsByTag(ctx context.Context, tag string) (bool, error) {
 	ctxu.GetLogger(ms.repository.ctx).Debug("(*manifestStore).ExistsByTag")
 	return ms.tagStore.exists(tag)
 }
 
-func (ms *manifestStore) GetByTag(tag string) (*manifest.SignedManifest, error) {
+func (ms *manifestStore) GetByTag(ctx context.Context, tag string) (*manifest.SignedManifest, error) {
 	ctxu.GetLogger(ms.repository.ctx).Debug("(*manifestStore).GetByTag")
 	dgst, err := ms.tagStore.resolve(tag)
 	if err != nil {
